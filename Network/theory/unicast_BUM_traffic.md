# 네트워크 통신 방식

### Unicast

- **출발지와 목적지가 정확한 일대일 통신**으로 우리가 사용하는 대부분의 통신 방식

### Broadcast

- 일대다 통신으로 local 네트워크에 존재하는 모든 host에게 packet을 전달해야 할 때 사용
- 유니캐스트로 통신하기 전, 상대방의 정확한 위치를 알기 위해 사용

### Multicast

- 멀티캐스트 그룹 주소를 이용해 해당 그룹에 속한 다수의 호스트로 패킷 전송
- 일대 그롭 통신으로 사내 방송같이 하나의 출발지에서 단방향으로 특정 다수의 목적지로 데이터 전송
- IPTV 같은 실시간 방송을 볼 때 사용되는 방식

### Anycast

- 일대일 통신으로 anycast 주소가 같은 host들 중에서 가장 가깝거나 효율적으로 서비스할 수 있는 host와 통신하는 방식
- **가장 가까운 DNS 서버를 찾을 때 사용**하거나 가장 가까운 gateway를 찾는 anycast gateway 기능에 사용
- Anycast도 Unicast와 동일하게 일대일 방식이지만 Unicast는 목적지가 1대이고 Anycast는 통신 가능한 다수 후보군이 있는 것이 차이점
<br>

이렇게 4가지 통신 방식이 있으며 통신 방식은 **목적지 주소를 기준**으로 구분한다.<br>
현재 주로 사용되는 네트워크 주소 체계는 IPv4이다.<br>

- **IPv4 프로토콜의 주소는 32비트 주소공간을 제공**
- 주소가 소진되는 문제를 해결하기 위해 생긴 **IPv6는 128비트 주소공간을 제공**

IPv4로 anycast의 일부 기능만 구현하고, 브로드캐스트에선 IPv6을 사용할 수 없다.<br>
이를 제외한 나머지 통신방식에서 IPv4, IPv6 둘다 사용 가능하다.

<br>

## BUM 트래픽

BUM 은 ```Broadcast```, ```Unknown unicast```, ```Multicast``` 를 지칭한다. 3개의 트래픽은 네트워크에서 동작 방식이 비슷하다.<br>

### Unknown unicast

- 스위치가 목적지에 대한 주소를 학습하지 못한 상황이라 패킷을 모든 포트로 전송(플러딩)하는데 이 방식을 unknown unicast 라고함 (스위치 입장에서 Unknown)
- 일대일 방식인 Unicast 이므로 목적지가 분명하기만, 네트워크상에서는 일대다인 브로드캐스트 방식과 동일
- 전달받은 NIC가 자신의 주소와 패킷에 명시된 도착지 주소가 다르면 패킷을 버림
- 하지만 이는 자원낭비이고 이러한 현상이 지속된다면 불필요한 BUM 트래킥이 많아져 네트워크 성능이 저하
- 이더넷 환경에서는 APR 브로드캐스트를 먼저 보낸 다음에 통신을 시작하기 때문에 BUM 트래픽이 많이 발생하지 않음
